{% extends "base.html" %}
{% block content %}
<h2 class="mb-4">Interactive Forecasting</h2>
<form method="POST" action="/forecasting" class="mb-4">
    <label for="n_lags" class="form-label">Select the number of months to use for forecasting:</label>
    <select id="n_lags" name="n_lags" class="form-select mb-3">
        <option value="12" {% if n_lags == 12 %}selected{% endif %}>12 months</option>
        <option value="18" {% if n_lags == 18 %}selected{% endif %}>18 months</option>
        <option value="24" {% if n_lags == 24 %}selected{% endif %}>24 months</option>
        <option value="30" {% if n_lags == 30 %}selected{% endif %}>30 months</option>
    </select>
    <button type="submit" class="btn btn-primary btn-lg">Generate Forecast</button>
</form>

{% if donation_plot_url %}
<div class="mb-4">
    <h3>Donation Forecast</h3>
    <img src="data:image/png;base64,{{ donation_plot_url }}" alt="Donation Forecast" class="img-fluid">
    <p>
        <strong>Insights:</strong> This forecast reflects predictions using the past months chosen by the user.
    </p>
</div>
{% endif %}

{% if consumer_plot_url %}
<div>
    <h3>Consumer Forecast</h3>
    <img src="data:image/png;base64,{{ consumer_plot_url }}" alt="Consumer Forecast" class="img-fluid">
    <p>
        <strong>Insights:</strong> This forecast reflects predictions based on consumer trends from past months.
    </p>
</div>
{% endif %}
{% endblock %}
